# Add this patch file: /kubernetes/overlays/dev/pvc-reference-patch.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: airbyte-server
spec:
  template:
    spec:
      volumes:
      - name: airbyte-config
        persistentVolumeClaim:
          claimName: dev-airbyte-config-pvc
      - name: airbyte-workspace
        persistentVolumeClaim:
          claimName: dev-airbyte-workspace-pvc
      - name: airbyte-tmp
        persistentVolumeClaim:
          claimName: dev-airbyte-tmp-pvc
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: airbyte-worker
spec:
  template:
    spec:
      volumes:
      - name: airbyte-config
        persistentVolumeClaim:
          claimName: dev-airbyte-config-pvc
      - name: airbyte-workspace
        persistentVolumeClaim:
          claimName: dev-airbyte-workspace-pvc
      - name: airbyte-tmp
        persistentVolumeClaim:
          claimName: dev-airbyte-tmp-pvc
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: airbyte-db
spec:
  template:
    spec:
      volumes:
      - name: airbyte-db-data
        persistentVolumeClaim:
          claimName: dev-airbyte-db-pvc
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: postgres
spec:
  template:
    spec:
      volumes:
      - name: postgres-data
        persistentVolumeClaim:
          claimName: dev-postgres-pvc
---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: pgadmin
spec:
  template:
    spec:
      volumes:
      - name: pgadmin-data
        persistentVolumeClaim:
          claimName: dev-pgadmin-pvc